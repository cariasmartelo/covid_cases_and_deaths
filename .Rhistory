data <- read_csv(unz(temp, csv_file))
# Discard temporary file with CSV
unlink(temp)
# Replace '/' in csv file name
csv_file <- str_replace(csv_file, '/', '_')
# Export csv to filepath
write_csv(data, file.path(filepath, csv_file))
}
# Download previous proyections
previous_proyections_urls <- c(
'https://ihmecovid19storage.blob.core.windows.net/archive/2020-03-25/ihme-covid19.zip',
'https://ihmecovid19storage.blob.core.windows.net/archive/2020-03-26/ihme-covid19.zip',
'https://ihmecovid19storage.blob.core.windows.net/archive/2020-03-27/ihme-covid19.zip',
'https://ihmecovid19storage.blob.core.windows.net/archive/2020-03-29/ihme-covid19.zip',
'https://ihmecovid19storage.blob.core.windows.net/archive/2020-03-30/ihme-covid19.zip',
'https://ihmecovid19storage.blob.core.windows.net/archive/2020-03-31/ihme-covid19.zip',
'https://ihmecovid19storage.blob.core.windows.net/archive/2020-04-01/ihme-covid19.zip',
'https://ihmecovid19storage.blob.core.windows.net/archive/2020-04-05/ihme-covid19.zip',
'https://ihmecovid19storage.blob.core.windows.net/archive/2020-04-07/ihme-covid19.zip',
'https://ihmecovid19storage.blob.core.windows.net/archive/2020-04-08/ihme-covid19.zip',
'https://ihmecovid19storage.blob.core.windows.net/archive/2020-04-10/ihme-covid19.zip',
'https://ihmecovid19storage.blob.core.windows.net/archive/2020-04-13/ihme-covid19.zip',
'https://ihmecovid19storage.blob.core.windows.net/archive/2020-04-17/ihme-covid19.zip')
for (download_url in previous_proyections_urls){
download_data(download_url)
}
# URL de decsarga
latest_ihme_updated <- 'https://ihmecovid19storage.blob.core.windows.net/latest/ihme-covid19.zip'
download_data(latest_ihme_updated)
burlig <- read_csv('ps1_data.csv')
glimpse(burlig)
summary(burlig)
burlig <- burlig %>%
mutate(baseline_wages_correct = ifelse(baseline_wages <0, NA, baseline_wages))
balance_test_wage <- lm(baseline_wages ~ burlig_trt, data = burlig)
balance_test_sales <- lm(baseline_sales ~ burlig_trt, data = burlig)
balance_test_female <- lm(baseline_owner_female ~ burlig_trt, data = burlig)
balance_test_employees <- lm(baseline_employees ~ burlig_trt, data = burlig)
stargazer(balance_test_wage, balance_test_sales, type = 'latex', report='vc*t')
stargazer(balance_test_female, balance_test_employees, type = 'latex', report='vc*t')
balance_test_correct <- lm(burlig_trt ~ baseline_wages_correct + baseline_sales + baseline_owner_female + baseline_employees, data = burlig)
stargazer(balance_test, balance_test_correct, type = 'latex', report='vc*t')
plot_non_treat <- burlig %>%
filter(burlig_trt == 0) %>%
ggplot(aes(baseline_wages_correct)) +
geom_histogram() +
labs(title = 'Wages of non treated firms')
plot_treat <- burlig %>%
filter(burlig_trt == 1) %>%
ggplot(aes(baseline_wages_correct)) +
geom_histogram() +
labs(title = 'Wages of treated firms')
grid.arrange(plot_non_treat, plot_treat)
plot_non_treat <- burlig %>%
filter(burlig_trt == 0) %>%
ggplot(aes(baseline_wages)) +
geom_histogram() +
labs(title = 'Wages of non treated firms')
plot_treat <- burlig %>%
filter(burlig_trt == 1) %>%
ggplot(aes(baseline_wages)) +
geom_histogram() +
labs(title = 'Wages of treated firms')
grid.arrange(plot_non_treat, plot_treat)
library('ihme_data_download.R')
library('ihme_data_download')
source('ihme_data_download.R')
source('ihme_data_download.R')
source('ihme_data_download.R')
latest_proyections <- read_csv(file.path(filepath, '2020_04_20.02.all_Hospitalization_all_locs.csv'))
VIew(latest_proyections)
View(latest_proyections)
unique(latest_proyections$location_name)
us_states <- c('Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California',
'Colorado', 'Connecticut','Delaware','Florida','Georgia',
'Hawaii','Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas',
'Kentucky', 'Louisiana', 'Maine', 'Maryland', 'Massachusetts',
'Michigan', 'Minnesota', 'Mississippi', 'Missouri', 'Montana',
'Nebraska', 'Nevada', 'New Hampshire', 'New Jersey', 'New Mexico',
'New York', 'North Carolina', 'North Dakota', 'Ohio', 'Oklahoma',
'Oregon', 'Pennsylvania', 'Rhode Island', 'South Carolina',
'South Dakota', 'Tennessee', 'Texas', 'Utah', 'United States of America',
'Vermont', 'Virginia', 'Washington', 'West Virginia', 'Wisconsin',
'Wyoming')
latest_proyections_us <- latest_proyections %>%
filter(location_name %in% us_states)
latest_proyections_us
VIew(latest_proyections_us)
View(latest_proyections_us)
latest_proyections_us_ny <- latest_proyections_us %>%
filter(location_name == 'New York')
latest_proyections_us_ny_il <- latest_proyections_us %>%
filter(location_name == 'New York' |location_name == 'California')
latest_proyections_us_ny_ca <- latest_proyections_us %>%
filter(location_name == 'New York' |location_name == 'California')
latest_proyections_us_ny_ca
rm(list = ls())
latest_proyections_us <- latest_proyections %>%
filter(location_name %in% us_states)
View(latest_proyections_us)
latest_proyections_us_ny_ca <- latest_proyections_us %>%
filter(location_name == 'New York' |location_name == 'California')
latest_proyections_us_ny_ca
# Import latest proyections
latest_proyections <- read_csv(file.path(filepath, '2020_04_20.02.all_Hospitalization_all_locs.csv'))
latest_proyections_us <- latest_proyections %>%
filter(location_name %in% us_states)
View(latest_proyections_us)
latest_proyections_us_ny_ca <- latest_proyections_us %>%
filter(location_name == 'New York' |location_name == 'California')
latest_proyections_us_ny_ca
# Import latest proyections
latest_proyections <- read_csv(file.path(filepath, '2020_04_20.02.all_Hospitalization_all_locs.csv'))
filepath <- "data/IHME"
# Import latest proyections
latest_proyections <- read_csv(file.path(filepath, '2020_04_20.02.all_Hospitalization_all_locs.csv'))
latest_proyections_us <- latest_proyections %>%
filter(location_name %in% us_states)
View(latest_proyections_us)
latest_proyections_us_ny_ca <- latest_proyections_us %>%
filter(location_name == 'New York' |location_name == 'California')
rm(list = ls())
library(tidyverse)
# TO download latest proyections
source('ihme_data_download.R')
filepath <- "data/IHME"
# Import latest proyections
latest_proyections <- read_csv(file.path(filepath, '2020_04_20.02.all_Hospitalization_all_locs.csv'))
# Filter NON-US
us_states <- c('Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California',
'Colorado', 'Connecticut','Delaware','Florida','Georgia',
'Hawaii','Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas',
'Kentucky', 'Louisiana', 'Maine', 'Maryland', 'Massachusetts',
'Michigan', 'Minnesota', 'Mississippi', 'Missouri', 'Montana',
'Nebraska', 'Nevada', 'New latest_proyecHampshire', 'New Jersey', 'New Mexico',
'New York', 'North Carolina', 'North Dakota', 'Ohio', 'Oklahoma',
'Oregon', 'Pennsylvania', 'Rhode Island', 'South Carolina',
'South Dakota', 'Tennessee', 'Texas', 'Utah', 'United States of America',
'Vermont', 'Virginia', 'Washington', 'West Virginia', 'Wisconsin',
'Wyoming')
latest_proyections_us <- latest_proyections %>%
filter(location_name %in% us_states)
View(latest_proyections_us)
latest_proyections_us_ny_ca <- latest_proyections_us %>%
filter(location_name == 'New York' |location_name == 'California')
colnames(latest_proyections_us_ny_ca)
latest_proyections_us_ny_ca %>%
ggplot(aes(x=date, y=icuover_mean)) +
geom_line(aes(color=location_name))
latest_proyections_us_ny_ca %>%
ggplot(aes(x=date, y=icuover_mean)) +
geom_line(aes(color=location_name))
View(latest_proyections_us_ny_ca)
latest_proyections_us_ny_ca %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name))
latest_proyections_us_ny_ca %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = '2020-04-20')
latest_proyections_us_ny_ca %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = '2020-04-20')
as.Date('2020-04-20')
class(as.Date('2020-04-20'))
latest_proyections_us_ny_ca %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'))
latest_proyections_us_ny_ca %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = '--')
latest_proyections_us_ny_ca %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed')
latest_proyections_us_ny_ca %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed',
label='present')
latest_proyections_plot_ny_ca <- latest_proyections_us_ny_ca %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed',
label='present')
latest_proyections_us <- latest_proyections %>%
filter(location_name %in% us_states)
View(latest_proyections_us)
latest_proyections_us_ny_ca <- latest_proyections_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Michigan')
latest_proyections_plot_ny_ca <- latest_proyections_us_ny_ca %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed',
label='present')
latest_proyections_us <- latest_proyections %>%
filter(location_name %in% us_states)
latest_proyections_us_ny_ca <- latest_proyections_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Michigan')
latest_proyections_plot_ny_ca <- latest_proyections_us_ny_ca %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed',
label='present')
latest_proyections_plot_ny_ca
april_5 <- read_csv(file.path(filepath, '2020_04_05.08.all_Hospitalization_all_locs.csv'))
april_5_us <- april_5 %>%
filter(location_name %in% us_states)
april_5_us_ny_ca_mi <- april_5_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Michigan')
april_5_us_ny_ca_mi <- april_5_us_ny_ca_mi %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed',
label='present')
#Covid gov Responses
#Script to download latest data from IHME
#
rm(list = ls())
library(tidyverse)
# TO download latest proyections
source('ihme_data_download.R')
filepath <- "data/IHME"
# Import latest proyections
latest_proyections <- read_csv(file.path(filepath, '2020_04_20.02.all_Hospitalization_all_locs.csv'))
# Filter NON-US
us_states <- c('Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California',
'Colorado', 'Connecticut','Delaware','Florida','Georgia',
'Hawaii','Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas',
'Kentucky', 'Louisiana', 'Maine', 'Maryland', 'Massachusetts',
'Michigan', 'Minnesota', 'Mississippi', 'Missouri', 'Montana',
'Nebraska', 'Nevada', 'New latest_proyecHampshire', 'New Jersey', 'New Mexico',
'New York', 'North Carolina', 'North Dakota', 'Ohio', 'Oklahoma',
'Oregon', 'Pennsylvania', 'Rhode Island', 'South Carolina',
'South Dakota', 'Tennessee', 'Texas', 'Utah', 'United States of America',
'Vermont', 'Virginia', 'Washington', 'West Virginia', 'Wisconsin',
'Wyoming')
latest_proyections_us <- latest_proyections %>%
filter(location_name %in% us_states)
latest_proyections_us_ny_ca_mi <- latest_proyections_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Michigan')
latest_proyections_plot_ny_ca_mi <- latest_proyections_us_ny_ca %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed',
label='present')
latest_proyections_plot_ny_ca_mi
april_5 <- read_csv(file.path(filepath, '2020_04_05.08.all_Hospitalization_all_locs.csv'))
april_5_us <- april_5 %>%
filter(location_name %in% us_states)
april_5_us_ny_ca_mi <- april_5_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Michigan')
april_5_us_ny_ca_mi <- april_5_us_ny_ca_mi %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-05'), linetype = 'dashed')
april_5_us_ny_ca_mi
library(gridExtra)
grid.arrange(april_5_us_ny_ca_mi, latest_proyections_plot_ny_ca_mi)
grid.arrange(april_5_us_ny_ca_mi, latest_proyections_plot_ny_ca_mi)
#Covid gov Responses
#Script to download latest data from IHME
#
rm(list = ls())
library(tidyverse)
library(gridExtra)
# TO download latest proyections
source('ihme_data_download.R')
filepath <- "data/IHME"
# Import latest proyections
latest_proyections <- read_csv(file.path(filepath, '2020_04_20.02.all_Hospitalization_all_locs.csv'))
# Filter NON-US
us_states <- c('Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California',
'Colorado', 'Connecticut','Delaware','Florida','Georgia',
'Hawaii','Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas',
'Kentucky', 'Louisiana', 'Maine', 'Maryland', 'Massachusetts',
'Michigan', 'Minnesota', 'Mississippi', 'Missouri', 'Montana',
'Nebraska', 'Nevada', 'New latest_proyecHampshire', 'New Jersey', 'New Mexico',
'New York', 'North Carolina', 'North Dakota', 'Ohio', 'Oklahoma',
'Oregon', 'Pennsylvania', 'Rhode Island', 'South Carolina',
'South Dakota', 'Tennessee', 'Texas', 'Utah', 'United States of America',
'Vermont', 'Virginia', 'Washington', 'West Virginia', 'Wisconsin',
'Wyoming')
latest_proyections_us <- latest_proyections %>%
filter(location_name %in% us_states)
latest_proyections_us_ny_ca_mi <- latest_proyections_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Michigan')
latest_proyections_plot_ny_ca_mi <- latest_proyections_us_ny_ca %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed',
label='present')
latest_proyections_plot_ny_ca_mi
april_5 <- read_csv(file.path(filepath, '2020_04_05.08.all_Hospitalization_all_locs.csv'))
april_5_us <- april_5 %>%
filter(location_name %in% us_states)
april_5_us_ny_ca_mi <- april_5_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Michigan')
april_5_us_ny_ca_mi <- april_5_us_ny_ca_mi %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-05'), linetype = 'dashed')
grid.arrange(april_5_us_ny_ca_mi, latest_proyections_plot_ny_ca_mi)
grid.arrange(april_5_us_ny_ca_mi, latest_proyections_plot_ny_ca_mi)
latest_proyections_plot_ny_ca_mi <- latest_proyections_us_ny_ca %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed',
label='present')
latest_proyections_plot_ny_ca_mi <- latest_proyections_us_ny_ca %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed')
grid.arrange(april_5_us_ny_ca_mi, latest_proyections_plot_ny_ca_mi)
latest_proyections_plot_ny_ca_mi
latest_proyections_plot_ny_ca_mi <- latest_proyections_us_ny_ca_mi %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed')
april_5 <- read_csv(file.path(filepath, '2020_04_05.08.all_Hospitalization_all_locs.csv'))
april_5_us <- april_5 %>%
filter(location_name %in% us_states)
april_5_us_ny_ca_mi <- april_5_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Michigan')
april_5_us_ny_ca_mi <- april_5_us_ny_ca_mi %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-05'), linetype = 'dashed')
grid.arrange(april_5_us_ny_ca_mi, latest_proyections_plot_ny_ca_mi)
grid.arrange(april_5_us_ny_ca_mi, latest_proyections_plot_ny_ca_mi, nrow=1)
grid.arrange(april_5_us_ny_ca_mi, latest_proyections_plot_ny_ca_mi, nrow=2)
#Covid gov Responses
#Script to download latest data from IHME
#
rm(list = ls())
library(tidyverse)
library(gridExtra)
# TO download latest proyections
source('ihme_data_download.R')
filepath <- "data/IHME"
# Import latest proyections
latest_proyections <- read_csv(file.path(filepath, '2020_04_20.02.all_Hospitalization_all_locs.csv'))
# Filter NON-US
us_states <- c('Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California',
'Colorado', 'Connecticut','Delaware','Florida','Georgia',
'Hawaii','Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas',
'Kentucky', 'Louisiana', 'Maine', 'Maryland', 'Massachusetts',
'Michigan', 'Minnesota', 'Mississippi', 'Missouri', 'Montana',
'Nebraska', 'Nevada', 'New latest_proyecHampshire', 'New Jersey', 'New Mexico',
'New York', 'North Carolina', 'North Dakota', 'Ohio', 'Oklahoma',
'Oregon', 'Pennsylvania', 'Rhode Island', 'South Carolina',
'South Dakota', 'Tennessee', 'Texas', 'Utah', 'United States of America',
'Vermont', 'Virginia', 'Washington', 'West Virginia', 'Wisconsin',
'Wyoming')
latest_proyections_us <- latest_proyections %>%
filter(location_name %in% us_states)
latest_proyections_us_ny_ca_mi <- latest_proyections_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Michigan')
latest_proyections_plot_ny_ca_mi <- latest_proyections_us_ny_ca_mi %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed') +
ggtitle("Proyections April 20") +
theme_bw()
april_5 <- read_csv(file.path(filepath, '2020_04_05.08.all_Hospitalization_all_locs.csv'))
april_5_us <- april_5 %>%
filter(location_name %in% us_states)
april_5_us_ny_ca_mi <- april_5_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Michigan')
april_5_us_ny_ca_mi <- april_5_us_ny_ca_mi %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-05'), linetype = 'dashed') +
ggtitle("Proyections April 8") +
theme_bw()
grid.arrange(april_5_us_ny_ca_mi, latest_proyections_plot_ny_ca_mi, nrow=2)
latest_proyections_plot_ny_ca_mi <- latest_proyections_us_ny_ca_mi %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed') +
ggtitle("Deaths by COVID, Proyections April 20") +
theme_bw()
april_5 <- read_csv(file.path(filepath, '2020_04_05.08.all_Hospitalization_all_locs.csv'))
april_5_us <- april_5 %>%
filter(location_name %in% us_states)
april_5_us_ny_ca_mi <- april_5_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Michigan')
april_5_us_ny_ca_mi <- april_5_us_ny_ca_mi %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-05'), linetype = 'dashed') +
ggtitle("Deaths by COVID, Proyections April 8") +
theme_bw()
grid.arrange(april_5_us_ny_ca_mi, latest_proyections_plot_ny_ca_mi, nrow=2)
latest_proyections_plot_ny_ca_mi <- latest_proyections_us_ny_ca_mi %>%
ggplot(aes(x=date, y=bedover_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed') +
ggtitle("Deaths by COVID, Proyections April 20") +
theme_bw()
april_5 <- read_csv(file.path(filepath, '2020_04_05.08.all_Hospitalization_all_locs.csv'))
april_5_us <- april_5 %>%
filter(location_name %in% us_states)
april_5_us_ny_ca_mi <- april_5_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Michigan')
april_5_us_ny_ca_mi <- april_5_us_ny_ca_mi %>%
ggplot(aes(x=date, y=bedover_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-05'), linetype = 'dashed') +
ggtitle("Deaths by COVID, Proyections April 8") +
theme_bw()
grid.arrange(april_5_us_ny_ca_mi, latest_proyections_plot_ny_ca_mi, nrow=2)
latest_proyections_us <- latest_proyections %>%
filter(location_name %in% us_states)
latest_proyections_us_ny_ca_mi <- latest_proyections_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Michigan')
latest_proyections_plot_ny_ca_mi <- latest_proyections_us_ny_ca_mi %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed') +
ggtitle("Deaths by COVID, Proyections April 20") +
theme_bw()
april_5 <- read_csv(file.path(filepath, '2020_04_05.08.all_Hospitalization_all_locs.csv'))
april_5_us <- april_5 %>%
filter(location_name %in% us_states)
april_5_us_ny_ca_mi <- april_5_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Michigan')
april_5_us_ny_ca_mi <- april_5_us_ny_ca_mi %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-05'), linetype = 'dashed') +
ggtitle("Deaths by COVID, Proyections April 8") +
theme_bw()
grid.arrange(april_5_us_ny_ca_mi, latest_proyections_plot_ny_ca_mi, nrow=2)
filepath <- "data/IHME"
# Import latest proyections
latest_proyections <- read_csv(file.path(filepath, '2020_04_20.02.all_Hospitalization_all_locs.csv'))
# Filter NON-US
us_states <- c('Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California',
'Colorado', 'Connecticut','Delaware','Florida','Georgia',
'Hawaii','Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas',
'Kentucky', 'Louisiana', 'Maine', 'Maryland', 'Massachusetts',
'Michigan', 'Minnesota', 'Mississippi', 'Missouri', 'Montana',
'Nebraska', 'Nevada', 'New latest_proyecHampshire', 'New Jersey', 'New Mexico',
'New York', 'North Carolina', 'North Dakota', 'Ohio', 'Oklahoma',
'Oregon', 'Pennsylvania', 'Rhode Island', 'South Carolina',
'South Dakota', 'Tennessee', 'Texas', 'Utah', 'United States of America',
'Vermont', 'Virginia', 'Washington', 'West Virginia', 'Wisconsin',
'Wyoming')
latest_proyections_us <- latest_proyections %>%
filter(location_name %in% us_states)
latest_proyections_us_ny_ca_mi <- latest_proyections_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Louisiana')
latest_proyections_plot_ny_ca_mi <- latest_proyections_us_ny_ca_mi %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed') +
ggtitle("Deaths by COVID, Proyections April 20") +
theme_bw()
april_5 <- read_csv(file.path(filepath, '2020_04_05.08.all_Hospitalization_all_locs.csv'))
april_5_us <- april_5 %>%
filter(location_name %in% us_states)
april_5_us_ny_ca_mi <- april_5_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Louisiana')
april_5_us_ny_ca_mi <- april_5_us_ny_ca_mi %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-05'), linetype = 'dashed') +
ggtitle("Deaths by COVID, Proyections April 8") +
theme_bw()
grid.arrange(april_5_us_ny_ca_mi, latest_proyections_plot_ny_ca_mi, nrow=2)
latest_proyections_plot_ny_ca_mi <- latest_proyections_us_ny_ca_mi %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed') +
ggtitle("Deaths by COVID, Proyections April 20") +
theme_bw()
april_5 <- read_csv(file.path(filepath, '2020_04_05.08.all_Hospitalization_all_locs.csv'))
april_5_us <- april_5 %>%
filter(location_name %in% us_states)
april_5_us_ny_ca_mi <- april_5_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Michigan')
april_5_us_ny_ca_mi <- april_5_us_ny_ca_mi %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-05'), linetype = 'dashed') +
ggtitle("Deaths by COVID, Proyections April 8") +
theme_bw()
grid.arrange(april_5_us_ny_ca_mi, latest_proyections_plot_ny_ca_mi, nrow=2)
latest_proyections_us_ny_ca_mi <- latest_proyections_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Illinois')
latest_proyections_plot_ny_ca_mi <- latest_proyections_us_ny_ca_mi %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-20'), linetype = 'dashed') +
ggtitle("Deaths by COVID, Proyections April 20") +
theme_bw()
april_5 <- read_csv(file.path(filepath, '2020_04_05.08.all_Hospitalization_all_locs.csv'))
april_5_us <- april_5 %>%
filter(location_name %in% us_states)
april_5_us_ny_ca_mi <- april_5_us %>%
filter(location_name == 'New York' | location_name == 'California' | location_name == 'Illinois')
april_5_us_ny_ca_mi <- april_5_us_ny_ca_mi %>%
ggplot(aes(x=date, y=deaths_mean)) +
geom_line(aes(color=location_name)) +
geom_vline(xintercept = as.Date('2020-04-05'), linetype = 'dashed') +
ggtitle("Deaths by COVID, Proyections April 8") +
theme_bw()
grid.arrange(april_5_us_ny_ca_mi, latest_proyections_plot_ny_ca_mi, nrow=2)
